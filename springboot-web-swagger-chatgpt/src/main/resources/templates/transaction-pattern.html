<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Head content -->

    <!-- Include Chart.js library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1>Transaction Pattern Visualization</h1>
    
    <div>
        <canvas id="transactionChart"></canvas>
    </div>

  <script th:inline="javascript">
  var ctx = document.getElementById('transactionChart').getContext('2d');
  //var categories =['Fashion', 'Retail', 'Grocery', 'Electronics'];
  //var amounts = [14.6,45.7,23.5,36.7] ;
  
  var categories = [[${categories}]];
  var amounts = [[${amounts}]] ;
  
  console.log("categories"+categories);
  console.log("amounts"+amounts);
  var data = {
          labels: categories,
          datasets: [{
              label: 'Transaction Amounts',
              data: amounts,
              backgroundColor: ['rgba(255, 99, 132, 0.5)', 'rgba(54, 162, 235, 0.5)', 'rgba(255, 206, 86, 0.5)', 'rgba(75, 192, 192, 0.5)'],
              borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)'],
              borderWidth: 1
          }]
      };
  
  var config = {
         type: 'bar',
        // type: 'pie',
          data: data,
          options: {
              scales: {
                  y: {
                      beginAtZero: true
                  }
              }
          }
      };
  
  var myChart = new Chart(ctx, config);
  
  </script>
</body>
</html>
